echo "Running pre-commit hook..."

echo "Running gofmt..."
gofmt -w .

echo "Running prettier on extension..."
cd extension && npm run prettify:format:all

if [ "$(git diff --name-only | wc -l)" -ne 0 ]; then
    echo "Some file(s) has been updated by pre-commit hook. Please stage the modified files and commit again!!"
    exit 1
fi

echo "Pre-commit hook execution completed.."
